<!DOCTYPE html>
<HTML>
<HEAD>  
<meta charset="utf-8">
<TITLE>Charting example</TITLE>  
</HEAD>  
<BODY>  
<H1>The left chart is a copy of the line chart example for Chart.js code from github!</H1>
<script src="../chart/Chart.js"></script>
<canvas id="myChart" width="400" height="400"></canvas>
<script>
//Direct copy from www.chartjs.org/docs/
// find more options on that above mentioned page
var options = { 'pointDotRadius':8 };

var data = {
	labels : ["January","February","March","April","May","June","July"],
	datasets : [
		{
			fillColor : "rgba(220,220,220,0.5)",
			strokeColor : "rgba(220,220,220,1)",
			pointColor : "rgba(220,220,220,1)",
			pointStrokeColor : "#fff",
			data : [65,59,90,81,56,55,40]
		},
		{
			fillColor : "rgba(151,187,205,0.5)",
			strokeColor : "rgba(151,187,205,1)",
			pointColor : "rgba(151,187,205,1)",
			pointStrokeColor : "#fff",
			data : [28,48,40,19,96,27,100]
		}
	]
}

//Get the context of the canvas element we want to select
var ctx = document.getElementById("myChart").getContext("2d");
var myNewChart = new Chart(ctx).Line(data,options);
</script> 

<script src="../chart/Chart.js"></script>
<canvas id="gforthChart" width="400" height="400"></canvas>

<h1>The right chart  is the same as left chart  but the data is partly generated by a Gforth script on server side!</h1>
<$ 
: , ( n -- ) u. s" ," type ; 
: data_values1 65 , 59 , 90 , 81 , 56 , 55 , 40 u. ; 
: data_values2 23 , 90 , 70 , 15 , 59 , 70 , 80 u. ;  
: pickdata active @ 0 =	IF data_values1 ELSE posted $@ s" B=" compare 0 = if data_values2 else data_values1 then THEN ; $>

<script>
var gforthdata = {
	labels : ["January","February","March","April","May","June","July"],
	datasets : [
		{
			fillColor : "rgba(220,220,220,0.5)",
			strokeColor : "rgba(220,220,220,1)",
			pointColor : "rgba(220,220,220,1)",
			pointStrokeColor : "#fff",
			data : [ <$ pickdata $> ]
		},
		{
			fillColor : "rgba(151,187,205,0.5)",
			strokeColor : "rgba(151,187,205,1)",
			pointColor : "rgba(151,187,205,1)",
			pointStrokeColor : "#fff",
			data : [28,48,40,19,96,27,100]
		}
	]
}

//Get the context of the canvas element we want to select
var gforthctx = document.getElementById("gforthChart").getContext("2d");
var mygforthChart = new Chart(gforthctx).Line(gforthdata,options);

</script>

<form action="linechart.shtml" method="post" id="Dataset"></form>
<button type="submit" form="Dataset"  name="A">Data set A</button>
<button type="submit" form="Dataset"  name="B">Data set B</button>
<p>Posted message is: <$ active @ 0 = [if] s" nothing posted yet!" type [else] posted $@ type [then] $> </p>
</BODY>  
</HTML>

