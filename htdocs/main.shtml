<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Sensor Data info.</title>
</head>
<link rel="stylesheet" type="text/css" href="styleA.css">
<$
require ../collection/gforth-misc-tools.fs
require ../collection/stringobj.fs
require ../collection/script.fs
require ../BBB_Gforth_gpio/htu21d-object.fs
require ../BBB_Gforth_gpio/bmp180-object.fs
require ../collection/db-stuff.fs

string heap-new constant junk$
strings heap-new constant cmdlist$

htu21d-i2c heap-new constant myhtu21d
bmp180-i2c heap-new constant mybmp180

s" node " junk$ !$
path$ $@ junk$ !+$
s" /collection/get-co2.js" junk$ !+$
junk$ @$ cmdlist$ !$X \ ;

s" node " junk$ !$ 
path$ $@ junk$ !+$
s" /collection/get-nh3.js" junk$ !+$
junk$ @$ cmdlist$ !$x \ ;

$>
<body>
<h1> Realtime Sensor Data as follows: </h1>
<h2> HTU21D sensor </h2>
<h2> <$ myhtu21d display-th  $> <br></h2>
<h2> BMP180 sensor </h2>
<h2> <$ mybmp180 display-tp  $> <br></h2>
<h2> CO2 M811 sensor </h2>
<h2> <$ cmdlist$ @$x shget dup false = [if] drop type [else] ." co2 reading error #" . [then] $> <br></h2>
<h2> NH3 MQ137 sensor </h2>
<h2> <$ cmdlist$ @$x shget dup false = [if] drop type [else] ." nh3 reading error #" . [then] $> <br></h2>
<h1> Last Database data: </h1>
<h2> <$ lastlocaldata@ dberrmsg dup false = [if] drop 2drop type [else] . space type 2drop [then] $> <br></h2>
</body>
</html>
